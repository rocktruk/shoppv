<!DOCTYPE html>
<!-- saved from url=(0115)file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>定制版-周边通-通用</title>
<style type="text/css">
            /*  GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
            /* RESET
=============================================================================*/
            
            html,
            body,
            div,
            span,
            applet,
            object,
            iframe,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6,
            p,
            blockquote,
            pre,
            a,
            abbr,
            acronym,
            address,
            big,
            cite,
            code,
            del,
            dfn,
            em,
            img,
            ins,
            kbd,
            q,
            s,
            samp,
            small,
            strike,
            strong,
            sub,
            sup,
            tt,
            var,
            b,
            u,
            i,
            center,
            dl,
            dt,
            dd,
            ol,
            ul,
            li,
            fieldset,
            form,
            label,
            legend,
            table,
            caption,
            tbody,
            tfoot,
            thead,
            tr,
            th,
            td,
            article,
            aside,
            canvas,
            details,
            embed,
            figure,
            figcaption,
            footer,
            header,
            hgroup,
            menu,
            nav,
            output,
            ruby,
            section,
            summary,
            time,
            mark,
            audio,
            video {
                margin: 0;
                padding: 0;
                border: 0;
            }
            /* BODY
=============================================================================*/
            
            body {
                font-family: Helvetica, arial, freesans, clean, sans-serif;
                font-size: 14px;
                line-height: 1.6;
                color: #333;
                background-color: #fff;
                padding: 20px;
                max-width: 960px;
                margin: 0 auto;
            }
            
            body>*:first-child {
                margin-top: 0 !important;
            }
            
            body>*:last-child {
                margin-bottom: 0 !important;
            }
            /* BLOCKS
=============================================================================*/
            
            p,
            blockquote,
            ul,
            ol,
            dl,
            table,
            pre {
                margin: 15px 0;
            }
            /* HEADERS
=============================================================================*/
            
            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                margin: 20px 0 10px;
                padding: 0;
                font-weight: bold;
                -webkit-font-smoothing: antialiased;
            }
            
            h1 tt,
            h1 code,
            h2 tt,
            h2 code,
            h3 tt,
            h3 code,
            h4 tt,
            h4 code,
            h5 tt,
            h5 code,
            h6 tt,
            h6 code {
                font-size: inherit;
            }
            
            h1 {
                font-size: 28px;
                color: #000;
            }
            
            h2 {
                font-size: 24px;
                border-bottom: 1px solid #ccc;
                color: #000;
            }
            
            h3 {
                font-size: 18px;
            }
            
            h4 {
                font-size: 16px;
            }
            
            h5 {
                font-size: 14px;
            }
            
            h6 {
                color: #777;
                font-size: 14px;
            }
            
            body>h2:first-child,
            body>h1:first-child,
            body>h1:first-child+h2,
            body>h3:first-child,
            body>h4:first-child,
            body>h5:first-child,
            body>h6:first-child {
                margin-top: 0;
                padding-top: 0;
            }
            
            a:first-child h1,
            a:first-child h2,
            a:first-child h3,
            a:first-child h4,
            a:first-child h5,
            a:first-child h6 {
                margin-top: 0;
                padding-top: 0;
            }
            
            h1+p,
            h2+p,
            h3+p,
            h4+p,
            h5+p,
            h6+p {
                margin-top: 10px;
            }
            /* LINKS
=============================================================================*/
            
            a {
                color: #4183C4;
                text-decoration: none;
            }
            
            a:hover {
                text-decoration: underline;
            }
            /* LISTS
=============================================================================*/
            
            ul,
            ol {
                padding-left: 30px;
            }
            
            ul li> :first-child,
            ol li> :first-child,
            ul li ul:first-of-type,
            ol li ol:first-of-type,
            ul li ol:first-of-type,
            ol li ul:first-of-type {
                margin-top: 0px;
            }
            
            ul ul,
            ul ol,
            ol ol,
            ol ul {
                margin-bottom: 0;
            }
            
            dl {
                padding: 0;
            }
            
            dl dt {
                font-size: 14px;
                font-weight: bold;
                font-style: italic;
                padding: 0;
                margin: 15px 0 5px;
            }
            
            dl dt:first-child {
                padding: 0;
            }
            
            dl dt>:first-child {
                margin-top: 0px;
            }
            
            dl dt>:last-child {
                margin-bottom: 0px;
            }
            
            dl dd {
                margin: 0 0 15px;
                padding: 0 15px;
            }
            
            dl dd>:first-child {
                margin-top: 0px;
            }
            
            dl dd>:last-child {
                margin-bottom: 0px;
            }
            /* CODE
=============================================================================*/
            
            pre,
            code,
            tt {
                font-size: 12px;
                font-family: Consolas, "Liberation Mono", Courier, monospace;
            }
            
            code,
            tt {
                margin: 0 0px;
                padding: 0px 0px;
                white-space: nowrap;
                border: 1px solid #eaeaea;
                background-color: #f8f8f8;
                border-radius: 3px;
            }
            
            pre>code {
                margin: 0;
                padding: 0;
                white-space: pre;
                border: none;
                background: transparent;
            }
            
            pre {
                background-color: #f8f8f8;
                border: 1px solid #ccc;
                font-size: 13px;
                line-height: 19px;
                overflow: auto;
                padding: 6px 10px;
                border-radius: 3px;
            }
            
            pre code,
            pre tt {
                background-color: transparent;
                border: none;
            }
            
            kbd {
                -moz-border-bottom-colors: none;
                -moz-border-left-colors: none;
                -moz-border-right-colors: none;
                -moz-border-top-colors: none;
                background-color: #DDDDDD;
                background-image: linear-gradient(#F1F1F1, #DDDDDD);
                background-repeat: repeat-x;
                border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
                border-image: none;
                border-radius: 2px 2px 2px 2px;
                border-style: solid;
                border-width: 1px;
                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
                line-height: 10px;
                padding: 1px 4px;
            }
            /* QUOTES
=============================================================================*/
            
            blockquote {
                border-left: 4px solid #DDD;
                padding: 0 15px;
                color: #777;
            }
            
            blockquote>:first-child {
                margin-top: 0px;
            }
            
            blockquote>:last-child {
                margin-bottom: 0px;
            }
            /* HORIZONTAL RULES
=============================================================================*/
            
            hr {
                clear: both;
                margin: 15px 0;
                height: 0px;
                overflow: hidden;
                border: none;
                background: transparent;
                border-bottom: 4px solid #ddd;
                padding: 0;
            }
            /* TABLES
=============================================================================*/
            
            table th {
                font-weight: bold;
            }
            
            table th,
            table td {
                border: 1px solid #ccc;
                padding: 6px 13px;
            }
            
            table tr {
                border-top: 1px solid #ccc;
                background-color: #fff;
            }
            
            table tr:nth-child(2n) {
                background-color: #f8f8f8;
            }
            /* IMAGES
=============================================================================*/
            
            img {
                max-width: 100%
            }
</style>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="zy1p" id="定制版-周边通-通用">定制版-周边通-通用</h1><div class="md-section-divider"></div><h3 data-anchor-id="hmau" id="测试环境真实请求周边通url此账号可以绑定一个手机号">测试环境：真实请求周边通URL：（此账号可以绑定一个手机号）</h3><div class="md-section-divider"></div><h3 data-anchor-id="er35" id="11-秘钥信息"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.1"> 1.1 秘钥信息</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="s3gi" id="12-用户端-同步登录"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.2"> 1.2 用户端-同步登录</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="8ztc" id="13-用户端-创建订单"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.3"> 1.3 用户端-创建订单</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="ut5o" id="14-用户端-发起支付"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.4"> 1.4 用户端-发起支付</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="o2wf" id="15-用户端-订单状态修改"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.5"> 1.5 用户端-订单状态修改</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="xd6v" id="16-用户端-订单列表跳转"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.6"> 1.6 用户端-订单列表跳转</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="i0ta" id="17-登录失效问题"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.7"> 1.7 登录失效问题</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="fdwy" id="18-退款完成主动推送"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.8"> 1.8 退款完成主动推送</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="81rj" id="19-第三方-订单状态查询周边通后台使用"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#1.9"> 1.9 第三方-订单状态查询（周边通后台使用）</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="6huj" id="20-签名机制"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#2.0"> 2.0 签名机制</a></h3><div class="md-section-divider"></div><h3 data-anchor-id="h9de" id="21-周边通-订单状态查询第三方订单状态查询或校验使用"><a href="file:///Users/kaka_lijian/Downloads/%E5%AE%9A%E5%88%B6%E7%89%88-%E5%91%A8%E8%BE%B9%E9%80%9A-%E9%80%9A%E7%94%A8.html#2.1"> 2.1 周边通-订单状态查询（第三方订单状态查询或校验使用）</a></h3><h3 id="1.1" data-anchor-id="kdxk"> 1.1.1 秘钥信息</h3><p data-anchor-id="rphr">**测试环境app_id: 通过邮件发送 <br>
**生产环境app_id: **</p><p data-anchor-id="cbai">**测试服务器秘钥: appsecret: 通过邮件发送 (32位小写字母和数字的组合) <br>
**生产服务器秘钥: appsecret: **</p><h3 id="1.2" data-anchor-id="l783"> 1.2.1 用户端-同步登录</h3><div class="md-section-divider"></div><h4 data-anchor-id="ag75" id="请求类型get方式">请求类型：GET方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="eccj" id="122-接口请求说明">1.2.2 接口请求说明</h4><blockquote data-anchor-id="0jti" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源。例：jd20130812001122</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道用户标示</td>
 <td style="text-align:center;">由渠道提供</td>
</tr>
<tr>
 <td style="text-align:left;">phone</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">用户手机号码</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="iovy" id="123-测试链接">1.2.3 测试链接</h4><p data-anchor-id="jhqz">http://第三方网站?source=渠道号&amp;open_userid=349e56c1fd123s2997745d3755555bf&amp;phone=13522227117&amp;sign=bd9cc5a6cc4fe02345cwew1d00cad60ce</p><div class="md-section-divider"></div><h4 data-anchor-id="mc12" id="备注">备注</h4><p data-anchor-id="5ajq">open_userid唯一，phone可变。如何原数据不同，更新用户phone</p><h3 id="1.3" data-anchor-id="7a6w"> 1.3.1 用户端-创建订单</h3><div class="md-section-divider"></div><h4 data-anchor-id="fapr" id="请求类型post方式">请求类型：POST方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="6ekt" id="测试环境请求urlhttptestzbtjiangxindaojiacomapiordercreateorder">测试环境请求URL：<a href="http://test.zbt.jiangxindaojia.com/api/order/createOrder" target="_blank">http://test.zbt.jiangxindaojia.com/api/order/createOrder</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="ycvu" id="生产环境请求urlhttpszbtjiangxindaojiacomapiordercreateorder">生产环境请求URL：<a href="https://zbt.jiangxindaojia.com/api/order/createOrder" target="_blank">https://zbt.jiangxindaojia.com/api/order/createOrder</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="fohu" id="132-接口请求说明">1.3.2 接口请求说明</h4><table data-anchor-id="it4y" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">out_order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">第三方订单号</td>
 <td style="text-align:center;">第三方的订单号（第三方平台渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">type_status</td>
 <td style="text-align:center;">int</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单类型</td>
 <td style="text-align:center;">1：普通订单；2：周期订单；3：回收单；5：预付款单（可以修改订单信息）；<font color="red">6：指定商品优惠单；</font>7：按次优惠单（不跳转收银台，金额可为0）；</td>
</tr>
<tr>
 <td style="text-align:left;">coupon_goods_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">优惠商品ID</td>
 <td style="text-align:center;"><font color="red">指定的优惠商品ID，支付的时候可以使用优惠券进行优惠。如果type_status=6时，则此字段存在，否则不存在</font></td>
</tr>
<tr>
 <td style="text-align:left;">city_codes</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">区域编码</td>
 <td style="text-align:center;">订单所属地区；第三方订单所属地区编码号</td>
</tr>
<tr>
 <td style="text-align:left;">consignee_address</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单详细地址</td>
 <td style="text-align:center;">订单所属的收货人详细地址或服务地址</td>
</tr>
<tr>
 <td style="text-align:left;">order_title</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单内容</td>
 <td style="text-align:center;">订单服务的项目名或商品民称</td>
</tr>
<tr>
 <td style="text-align:left;">total_amount</td>
 <td style="text-align:center;">float</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">总支付金额</td>
 <td style="text-align:center;">订单的总支付金额（保留两位小数）</td>
</tr>
<tr>
 <td style="text-align:left;">return_url</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">同步跳转地址</td>
 <td style="text-align:center;">同步跳转地址（支付成功通过页面直接跳转地址）</td>
</tr>
<tr>
 <td style="text-align:left;">notify_url</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">异步跳转地址</td>
 <td style="text-align:center;">异步跳转地址，通过发送数据到此地址上。（建议使用异步来修改订单成功的数据）</td>
</tr>
<tr>
 <td style="text-align:left;">push_type</td>
 <td style="text-align:center;">int</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">支付成功推送方式</td>
 <td style="text-align:center;"><font color="red">(选填)支付成功推送方式，1为form-data，2，为x-www-form-urlencoded方式</font></td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h4 data-anchor-id="ikok" id="133-接口响应说明">1.3.3 接口响应说明</h4><table data-anchor-id="ik8f" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th>参数名</th>
 <th>参数类型</th>
 <th>缺省值</th>
 <th>备注</th>
</tr>
</thead>
<tbody><tr>
 <td>status</td>
 <td>int</td>
 <td>-</td>
 <td>0:成功 1：失败</td>
</tr>
<tr>
 <td>msg</td>
 <td>string</td>
 <td>-</td>
 <td>信息</td>
</tr>
<tr>
 <td>data</td>
 <td>string</td>
 <td>-</td>
 <td>数据</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h4 data-anchor-id="xs5b" id="134-接口响应说明">1.3.4 接口响应说明</h4><pre data-anchor-id="4xc7">{
    "status": 0,
    "msg": "成功",
    "data": {
        "source": "12312312",
        "app_id": "1",
        "open_userid": "349e56c1fd123s2997745d3755555bf",
        "out_order_number": "TEST201602231550",
        "type_status": "1",
        "city_codes": "310109",
        "consignee_address": "上海市虹口区广纪路838号",
        "order_title": "测试订单",
        "total_amount": "100.00",
        "return_url": "http://v.spd.com/return_url",
        "notify_url": "http://v.spd.com/notify_url",
        "order_number": "2016022397544810",
        "push_type": "1"
    }
}
</pre><h3 id="1.4" data-anchor-id="o5r9"> 1.4.1 用户端-发起支付</h3><div class="md-section-divider"></div><h4 data-anchor-id="1gc7" id="测试环境请求urlhttptestzbtjiangxindaojiacomapipaymentpayment">测试环境请求URL：<a href="http://test.zbt.jiangxindaojia.com/api/payment/payment" target="_blank">http://test.zbt.jiangxindaojia.com/api/payment/payment</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="k2gj" id="生产环境请求urlhttpszbtjiangxindaojiacomapipaymentpayment">生产环境请求URL：<a href="https://zbt.jiangxindaojia.com/api/payment/payment" target="_blank">https://zbt.jiangxindaojia.com/api/payment/payment</a></h4><div class="md-section-divider"></div><h3 data-anchor-id="3zqq" id="142请求类型">1.4.2请求类型</h3><div class="md-section-divider"></div><h2 data-anchor-id="eju2" id="title"> </h2><div class="md-section-divider"></div><h2 data-anchor-id="i51z" id="get方式">GET方式</h2><div class="md-section-divider"></div><h4 data-anchor-id="ollh" id="143-接口请求说明">1.4.3 接口请求说明</h4><table data-anchor-id="l7fz" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通平台订单号（周边通平台订单号渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h4 data-anchor-id="mlv0" id="144-返回数据说明">1.4.4 返回数据说明</h4><p data-anchor-id="c8wg">数据实例：</p><p data-anchor-id="glwa">请求成功同步跳转数据地址：</p><p data-anchor-id="oein">支付失败，跳转页面：http://第三方网站(此页面由第三方创建订单时创建的)后面加?source=123123asdfas&amp;open_userid=1212&amp;res_status=fail&amp;res_msg=失败&amp;order_number=04173199121212</p><p data-anchor-id="4oxa">支付成功，跳转页面：http://第三方网站(此页面由第三方创建订单时创建的)后面加?source=123123asdfas&amp;open_userid=1212&amp;res_status=success&amp;res_msg=成功&amp;order_number=04173199121212&amp;total_amount=25.00&amp;sign=123123123123123ddfdfd</p><div class="md-section-divider"></div><h4 data-anchor-id="fjcq" id="145-接口响应说明">1.4.5 接口响应说明</h4><p data-anchor-id="q5e8">支付成功后异步post给第三方商户的数据参数：</p><table data-anchor-id="vveo" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">res_status</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单处理结果</td>
 <td style="text-align:center;">订单处理结果（success：成功，fail：失败）</td>
</tr>
<tr>
 <td style="text-align:left;">res_msg</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">返回状态描述</td>
 <td style="text-align:center;">返回结果的订单状态的描述</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通订单号(周边通平台渠道内唯一性)</td>
</tr>
<tr>
 <td style="text-align:left;">total_amount</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">支付总金额</td>
 <td style="text-align:center;">订单支付总金额（单位：元，两位小数）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h3 data-anchor-id="02n7" id="第三方商户接收并处理异步数据完成自己平台逻辑后返回给周边通平台结果集">第三方商户接收并处理异步数据，完成自己平台逻辑后返回给周边通平台结果集</h3><table data-anchor-id="qdn8" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">status</td>
 <td style="text-align:center;">int</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">状态</td>
 <td style="text-align:center;">0:成功 1：失败</td>
</tr>
<tr>
 <td style="text-align:left;">msg</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">信息</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">数据</td>
 <td style="text-align:center;">-</td>
</tr>
</tbody></table><p data-anchor-id="42ef">请求处理成功的返回数据：</p><pre data-anchor-id="vp50">{   
    "status": 0,
    "msg": "成功",
    "data": {
        "res_status": "success",
        "res_msg": "订单已支付",
        "order_number": "04173199121212",
        "open_userid": "2",
        "source": "123123jkljasd"
    }
}
</pre><p data-anchor-id="6buz">请求处理失败的返回数据：</p><pre data-anchor-id="cwjh">{   
    "status": 1,
    "msg": "失败",
    "data": {
        "res_status": "fail",
        "res_msg": "订单异常",
        "order_number": "04173199121212",
        "open_userid": "2",
        "source": "123123jkljasd"
    }
}
</pre><h3 id="1.5" data-anchor-id="oksl"> 1.5.1 用户端-订单状态修改</h3><div class="md-section-divider"></div><h4 data-anchor-id="ne25" id="请求类型post方式-1">请求类型：POST方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="hzm0" id="测试环境请求urlhttptestzbtjiangxindaojiacomapiorderupdateorderstatus">测试环境请求URL：<a href="http://test.zbt.jiangxindaojia.com/api/order/updateOrderStatus" target="_blank">http://test.zbt.jiangxindaojia.com/api/order/updateOrderStatus</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="h168" id="生产环境请求urlhttpszbtjiangxindaojiacomapiorderupdateorderstatus">生产环境请求URL：<a href="https://zbt.jiangxindaojia.com/api/order/updateOrderStatus" target="_blank">https://zbt.jiangxindaojia.com/api/order/updateOrderStatus</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="ez5x" id="152-接口请求说明">1.5.2 接口请求说明</h4><table data-anchor-id="2csc" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通订单号(周边通平台渠道内唯一性)</td>
</tr>
<tr>
 <td style="text-align:left;">order_status</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单动作状态</td>
 <td style="text-align:center;">订单动作状态。4:确认完成（取消的订单不能发起确认完成动作，支付完成的订单才能确认完成动作，申请退款的订单不能发起确认完成动作）；5:已发出（只有支付完成的动作才能发起已发出动作，取消/已完成/退款订单不能发起）; 2: 取消订单（未付款的订单可以取消订单动作）6:申请退款(支付成功的订单可以发起申请退款动作，取消或已完成的状态不能发起退款动作，此动作不支持冲正退款金额的操作，可多次请求）</td>
</tr>
<tr>
 <td style="text-align:left;">refund_price</td>
 <td style="text-align:center;">float</td>
 <td style="text-align:center;">选填</td>
 <td style="text-align:center;">退款金额</td>
 <td style="text-align:center;">退款金额(单位：元)，两位小数（如果order_status为6时，此参数可以用，非退款申请状态无需填写）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h4 data-anchor-id="0d09" id="153-接口响应说明">1.5.3 接口响应说明</h4><table data-anchor-id="onir" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th>参数名</th>
 <th>参数类型</th>
 <th>缺省值</th>
 <th>备注</th>
</tr>
</thead>
<tbody><tr>
 <td>status</td>
 <td>int</td>
 <td>-</td>
 <td>0:成功 1：失败</td>
</tr>
<tr>
 <td>msg</td>
 <td>string</td>
 <td>-</td>
 <td>信息</td>
</tr>
<tr>
 <td>data</td>
 <td>string</td>
 <td>-</td>
 <td>数据</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h4 data-anchor-id="zcju" id="154-接口响应说明">1.5.4 接口响应说明</h4><pre data-anchor-id="lasy">{
    "status": 0,
    "msg": "成功",
    "data": {
        "order_number": "04173199121212",
        "app_id": "0",
        "open_userid": "2",
    }
}
</pre><h3 id="1.6" data-anchor-id="ex2t"> 1.6.1 用户端-订单列表跳转</h3><div class="md-section-divider"></div><h4 data-anchor-id="z8t4" id="跳转订单列表">跳转订单列表</h4><div class="md-section-divider"></div><h4 data-anchor-id="93pp" id="请求类型get方式-1">请求类型：GET方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="djjn" id="162-接口请求说明">1.6.2 接口请求说明</h4><blockquote data-anchor-id="dpkz" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">由周边通平台提供</td>
</tr>
<tr>
 <td style="text-align:left;">phone</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">用户手机号码</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">continue</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">跳转参数值</td>
 <td style="text-align:center;">默认值为：orderList</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="kz67" id="163-测试链接">1.6.3 测试链接</h4><p data-anchor-id="a9rw">http://第三方网站?source=1231hkjhjkh&amp;open_userid=349e56c1fd123s2997745d3755555bf&amp;phone=13522227117&amp;continue=orderList&amp;sign=bd9cc5a6cc4fe02345cwew1d00cad60ce</p><div class="md-section-divider"></div><h4 data-anchor-id="xg7w" id="跳转订单详情">跳转订单详情</h4><div class="md-section-divider"></div><h4 data-anchor-id="i2hs" id="请求类型get方式-2">请求类型：GET方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="6171" id="164-接口请求说明">1.6.4 接口请求说明</h4><blockquote data-anchor-id="d31u" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">由周边通平台提供</td>
</tr>
<tr>
 <td style="text-align:left;">phone</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">用户手机号码</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通的订单号（周边通平台渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="5le8" id="165-测试链接">1.6.5 测试链接</h4><p data-anchor-id="w4pt">http://第三方网站?source=1231hkjhjkh&amp;open_userid=349e56c1fd123s2997745d3755555bf&amp;phone=13522227117&amp;order_number=20160913183626005576&amp;sign=bd9cc5a6cc4fe02345cwew1d00cad60ce</p><div class="md-section-divider"></div><h4 data-anchor-id="4jb8" id="备注-1">备注</h4><p data-anchor-id="d5o6">open_userid唯一，phone可变。如何原数据不同，更新用户phone</p><h3 id="1.7" data-anchor-id="t2nl"> 1.7.1 登录失效问题</h3><div class="md-section-divider"></div><h4 data-anchor-id="wlql" id="请求类型get方式-3">请求类型：GET方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="1y28" id="172-接口请求说明">1.7.2 接口请求说明</h4><p data-anchor-id="fddi">同1.6.1</p><h3 id="1.8" data-anchor-id="w6h6"> 1.8.1 退款完成主动推送</h3><div class="md-section-divider"></div><h4 data-anchor-id="z6yg" id="请求类型post方式-2">请求类型：POST方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="ncr9" id="测试环境请求url-http第三方网站">测试环境请求URL： http://第三方网站</h4><div class="md-section-divider"></div><h4 data-anchor-id="8vmj" id="生产环境请求url-http第三方网站">生产环境请求URL： http://第三方网站</h4><div class="md-section-divider"></div><h4 data-anchor-id="nkih" id="182-接口请求说明">1.8.2 接口请求说明</h4><p data-anchor-id="p5kg"><font color="red">请求的数据格式类型：x-www-form-urlencoded </font></p><blockquote data-anchor-id="87fj" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">out_order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">第三方订单号</td>
 <td style="text-align:center;">第三方的订单号（第三方平台渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通平台订单号（周边通平台订单号渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">refund_price</td>
 <td style="text-align:center;">float</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">退款金额</td>
 <td style="text-align:center;">确认实际退款金额(保留两位小数)</td>
</tr>
<tr>
 <td style="text-align:left;">refund_date</td>
 <td style="text-align:center;">date</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">退款时间</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">order_status</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">退款完成状态</td>
 <td style="text-align:center;">退款完成状态；固定值：7（退款成功）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h3 data-anchor-id="cgjn" id="第三方商户接收退款推送数据后返回的json信息">第三方商户接收退款推送数据后，返回的json信息：</h3><div class="md-section-divider"></div><h4 data-anchor-id="ft4u" id="183-接口响应说明">1.8.3 接口响应说明</h4><blockquote data-anchor-id="x0yx" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">status</td>
 <td style="text-align:center;">int</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">状态</td>
 <td style="text-align:center;">0:成功 1：失败</td>
</tr>
<tr>
 <td style="text-align:left;">msg</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">信息</td>
 <td style="text-align:center;"></td>
</tr>
<tr>
 <td style="text-align:left;">data</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">数据</td>
 <td style="text-align:center;"></td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="vsq8" id="184-接口响应实例">1.8.4 接口响应实例</h4><pre data-anchor-id="2tok">{
    "status": 0,
    "msg": "成功",
    "data": {
    }
}
</pre><h3 id="1.9" data-anchor-id="5tcb"> 1.9.1第三方-订单状态查询（周边通后台使用）</h3><div class="md-section-divider"></div><h4 data-anchor-id="nntz" id="请求类型post方式-3">请求类型：POST方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="5gyh" id="测试环境请求urlhttp第三方网站">测试环境请求URL：http://第三方网站</h4><div class="md-section-divider"></div><h4 data-anchor-id="zm1p" id="生产环境请求urlhttp第三方网站">生产环境请求URL：http://第三方网站</h4><div class="md-section-divider"></div><h4 data-anchor-id="kck5" id="192-接口请求说明">1.9.2 接口请求说明</h4><p data-anchor-id="ngkr"><font color="red">请求的数据格式类型：x-www-form-urlencoded </font></p><blockquote data-anchor-id="3l82" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">out_order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">第三方订单号</td>
 <td style="text-align:center;">第三方的订单号（第三方平台渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通平台订单号（周边通平台订单号渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="v30f" id="193-接口响应说明">1.9.3 接口响应说明</h4><blockquote data-anchor-id="nrnj" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">status</td>
 <td style="text-align:center;">int</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">状态</td>
 <td style="text-align:center;">0:成功 1：失败</td>
</tr>
<tr>
 <td style="text-align:left;">msg</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">信息</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">数据</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">平台唯一身份id（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;order_title</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单标题</td>
 <td style="text-align:center;">订单标题</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;total_amount</td>
 <td style="text-align:center;">float</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单支付总金额</td>
 <td style="text-align:center;">订单支付总金额（保留两位小数）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;order_status</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单状态</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;status_name</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">状态含义</td>
 <td style="text-align:center;">状态代表的含义</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;order_ctime</td>
 <td style="text-align:center;">date</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单创建时间</td>
 <td style="text-align:center;">-</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="8b0c" id="214-接口响应说明">2.1.4 接口响应说明</h4><pre data-anchor-id="i7ke">{
    "status": 0,
    "msg": "成功",
    "data": {
        "source": "123123123asdfhaksj",
        "open_userid": "349e56c150df3122997745d3755555bf",
        "order_title": "订单用途",
        "total_amount": "60.00",
        "order_status": "订单状态",
        "status_name": "订单状态描述",
        "order_ctime": "2016-01-16 15:44:45"
    }
}
</pre><h3 id="2.0" data-anchor-id="2t78"> 2.0 签名机制</h3><div class="md-section-divider"></div><h4 data-anchor-id="966z" id="201-组装待签名字符串">2.0.1 组装待签名字符串</h4><p data-anchor-id="i470">不论是POST传输还是GET传输，绝大多数接口除sign以外，获得的参数集合去除空值后皆是要参与签名的参数。 <br>
如：</p><pre data-anchor-id="2nbj">Map sParaTemp = new HashMap(); 
sParaTemp.put("app", "cas"); 
sParaTemp.put("class", " GetUserInfo"); 
sParaTemp.put("appid", "201602225682"); 
sParaTemp.put("open_userid", "dnabewxkopxemlldnzo"); 
</pre><div class="md-section-divider"></div><h4 data-anchor-id="ibow" id="202-排序">2.0.2 排序</h4><p data-anchor-id="ki1b">在参数集合中，根据参数（不是参数对应的值）的第一个字符的键值ASCII码递增排序，如果遇到相同字符则按照第二个字符的键值ASCII码递增排序，以此类推。</p><div class="md-section-divider"></div><h4 data-anchor-id="i9k7" id="203-拼接">2.0.3 拼接</h4><p data-anchor-id="rums">在参数集合中，把每个参数及其值组合成“参数=参数值”的格式，每个参数的组合格式是“参数="参数值"”），并且把这些参数用&amp;字符连接起来</p><pre data-anchor-id="icbw">app=cas&amp;class=GetUserInfo&amp;appid=201602225682&amp;open_userid=dnabewxkopxemlldnzo
</pre><div class="md-section-divider"></div><h4 data-anchor-id="rkjd" id="204-调用签名函数">2.0.4 调用签名函数</h4><div class="md-section-divider"></div><h5 data-anchor-id="fi6j" id="2041-请求时签名">2.0.4.1  请求时签名</h5><p data-anchor-id="oyzy">当拿到请求时的待签名字符串后，需要把私钥直接拼接到待签名字符串后面，形成 <br>
新的字符串，利用 MD5 的签名函数对这个新的字符串进行签名运算，从而得到 32 <br>
位签名结果字符串（该字符串赋值于参数 sign）。</p><div class="md-section-divider"></div><h5 data-anchor-id="961a" id="2042-通知返回时验证签名">2.0.4.2  通知返回时验证签名</h5><p data-anchor-id="3wk5">当获得到通知返回时的待签名字符串后，同理，需要把私钥直接拼接到待签名字符 <br>
串后面，形成新的字符串，利用 MD5 的签名函数对这个新的字符串进行签名运算， <br>
从而得到 32 位签名结果字符串。此时这个新的字符串需要与周边通通知返回参数 <br>
中的参数 sign 的值进行验证是否相等，来判断签名是否验证通过。</p><h3 id="2.1" data-anchor-id="4i6q"> 2.1.1 周边通-订单状态查询（第三方订单状态查询或校验使用）</h3><div class="md-section-divider"></div><h4 data-anchor-id="ne8c" id="请求类型post方式-4">请求类型：POST方式</h4><div class="md-section-divider"></div><h4 data-anchor-id="x8vx" id="测试环境请求urlhttptestzbtjiangxindaojiacomapiorderselectorderstatusbyjhptforthird">测试环境请求URL：<a href="http://test.zbt.jiangxindaojia.com/api/order/selectOrderStatusByJHPTForThird" target="_blank">http://test.zbt.jiangxindaojia.com/api/order/selectOrderStatusByJHPTForThird</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="geyz" id="生产环境请求urlhttpszbtjiangxindaojiacomapiorderselectorderstatusbyjhptforthird">生产环境请求URL：<a href="https://zbt.jiangxindaojia.com/api/order/selectOrderStatusByJHPTForThird" target="_blank">https://zbt.jiangxindaojia.com/api/order/selectOrderStatusByJHPTForThird</a></h4><div class="md-section-divider"></div><h4 data-anchor-id="z2qq" id="212-接口请求说明">2.1.2 接口请求说明</h4><blockquote data-anchor-id="jxsf" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">由周边通平台提供</td>
</tr>
<tr>
 <td style="text-align:left;">order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通订单号</td>
 <td style="text-align:center;">周边通平台订单号（周边通平台订单号渠道内唯一性）</td>
</tr>
<tr>
 <td style="text-align:left;">sign</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">签名</td>
 <td style="text-align:center;">加密以上所有字段，通过商户约定加密规则加密</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="9jmb" id="213-接口响应说明">2.1.3 接口响应说明</h4><blockquote data-anchor-id="vcy5" class="white-blockquote">
  <table class="table table-striped-white table-bordered">
<thead>
<tr>
 <th style="text-align:left;">参数名</th>
 <th style="text-align:center;">参数类型</th>
 <th style="text-align:center;">缺省值</th>
 <th style="text-align:center;">备注</th>
 <th style="text-align:center;">说明</th>
</tr>
</thead>
<tbody><tr>
 <td style="text-align:left;">status</td>
 <td style="text-align:center;">int</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">状态</td>
 <td style="text-align:center;">0:成功 1：失败</td>
</tr>
<tr>
 <td style="text-align:left;">msg</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">信息</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">数据</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;source</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">渠道号</td>
 <td style="text-align:center;">用于判断用户所属的渠道来源，通过登录或订单列表接口获取（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;app_id</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">商户号</td>
 <td style="text-align:center;">第三方的应用的商户号，通过开发人员获取（由周边通平台生成）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;open_userid</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通用户唯一标示</td>
 <td style="text-align:center;">平台唯一身份id（由周边通平台生成传输）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">周边通平台的订单号（周边通平台渠道内唯一性）</td>
 <td style="text-align:center;"></td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;out_order_number</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">第三方订单号</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;order_status</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单状态</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;order_title</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单状态描述</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;total_amount</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单支付总金额</td>
 <td style="text-align:center;">订单支付总金额（保留两位小数）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;ctime</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单创建时间</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;pay_time</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">支付成功时间</td>
 <td style="text-align:center;">-</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;refund_price</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">订单退款金额</td>
 <td style="text-align:center;">订单的退款（保留两位小数，只有为退款时才使用）</td>
</tr>
<tr>
 <td style="text-align:left;">data=&gt;refund_date</td>
 <td style="text-align:center;">string</td>
 <td style="text-align:center;">-</td>
 <td style="text-align:center;">退款日期</td>
 <td style="text-align:center;">只有退款时使用</td>
</tr>
</tbody></table>

</blockquote><div class="md-section-divider"></div><h4 data-anchor-id="byba" id="214-接口响应说明-1">2.1.4 接口响应说明</h4><pre data-anchor-id="l25z">{
    "status": 0,
    "msg": "成功",
    "data": {
        "source": "12312asdfasd",
        "app_id": "12312312",
        "open_userid": "349e56c150df3122997745d3755555bf",
        "order_number": "2016011598525710",
        "out_order_number": "DD1601152230477161",
        "order_status": 3,
        "order_title": "付款成功",
        "total_amount": "60.00",
        "ctime": "2016-01-15 22:30:51",
        "pay_time": "2016-01-16 15:44:45",
        "refund_price": "0.00",
        "refund_date": "2016-01-16 15:44:45"
    }
}

order_status 例：
 * 1:待付款
 * 2:取消
 * 3:已付款
 * 4:确认完成
 * 5:已发出
 * 6:退款申请中
 * 7:退款完成
 * 8:退款失败
 * 9:退款推送成功
 * 10:退款推送失败
 * 11:已取货
 * 12:已回收

</pre></div>

</body></html>